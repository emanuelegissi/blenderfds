#summary Dealing with non-manifold objects

|| *Updated to 2.0* ||

Before you begin modeling always remember that, when you are modeling a Blender `object` that needs to be _voxelized_, it is better to create a volume that make sense in a physical world: _water-tight_ and _well-formed_ so that BlenderFDS can decide which portion of space is solid and which is instead void.

The easiest way to do this is to work by extruding existing volume, and using boolean operations to combine volumes. It is often difficult to retrofit existing models, so it is best to start from scratch and with each step keep the goal in mind. Models made for visualization are often not good for voxelization.

<wiki:toc max_depth="2" />

----

= Fixing non-manifold models =

|| *New in 2.0*: The new voxelization algorithm can treat both _manifold_ and _non manifold_ objects ||

The new voxelization algorithm can treat both _manifold_ and _non manifold_ objects, but exported geometries are more precise if the originating objects are _manifold_, that is water-tight and well-formed, so that BlenderFDS can decide which portion of space is solid and which is instead void. This is the reason why, if the object is non manifold, a warning message is displayed.

We share this problem with people working in 3D printing processes. This is the reason why one of the best and detailed explications of the problem and how to fix it is found on Shapeways site: [http://www.shapeways.com/tutorials/fixing-non-manifold-models Fixing non-manifold models]

The suggested operations can be performed directly inside Blender (they use Blender, too!).

When desperate there is another powerful but somewhat more complex tool: [http://meshlab.sourceforge.net/ MeshLab]. You need to export your `object mesh` from Blender in STL format, fix it in !MeshLab, and import it back into Blender: a procedure not meant for the faint of hearth...

Remember that it is often quicker to remodel the problematic `object` from scratch.

= An example =

|| *FIXME*: The following screenshots are not updated to BlenderFDS 2.0 ||

The cube shown in the following picture lacks the upper face, and is thus non-manifold. If the user tries to set `XB` to `Voxels`, an error message appears in the `object properties panel`:

[https://lh6.googleusercontent.com/_iTIkwVoSUm0/TXdqg-nfjjI/AAAAAAAAAaY/2tyLcl3NRNs/s720/blender%20hollow%20cube1.png]

To fix it, the user switches Blender from `Object mode` to `Edit mode`. The object mesh is now editable:

[https://lh4.googleusercontent.com/_iTIkwVoSUm0/TXdqhEAY05I/AAAAAAAAAag/TUi99mhDfh4/s720/blender%20hollow%20cube2.png]

Then he switches the selection mode to `Edge select mode`:

[https://lh4.googleusercontent.com/_iTIkwVoSUm0/TXdqg_ExihI/AAAAAAAAAac/IPrDQWzbWrg/s720/blender%20hollow%20cube3.png]

Then the user clicks on the `Select > Non Manifold` menu of the `3D View editor`:

[https://lh5.googleusercontent.com/_iTIkwVoSUm0/TXdqjJO9X-I/AAAAAAAAAak/7T_ykfHc1gE/s720/blender%20hollow%20cube4.png]

The problematic edges are now selected:

[https://lh3.googleusercontent.com/_iTIkwVoSUm0/TXdqjRAmclI/AAAAAAAAAao/x1NLstmXyNw/s720/blender%20hollow%20cube5.png]

The cube lacks a face. So the user select the `Mesh > Faces > Fill` menu of the `3D View editor` `header` to create the missing face:

[https://lh4.googleusercontent.com/_iTIkwVoSUm0/TXdqjo96cjI/AAAAAAAAAas/ry7Z13JqvD8/s720/blender%20hollow%20cube6.png]

The missing face is created:

[https://lh3.googleusercontent.com/_iTIkwVoSUm0/TXdqkbj6KCI/AAAAAAAAAaw/4_YPUIzssDk/s720/blender%20hollow%20cube7.png]

The user switches Blender back from `edit mode` to `object mode`:

[https://lh5.googleusercontent.com/_iTIkwVoSUm0/TXdqlR6QqwI/AAAAAAAAAa4/1ubxzR6_mVw/s720/blender%20hollow%20cube8.png]

The error message disappears: the `object` is now manifold, and `XB` can be safely set to `Voxels`:

[https://lh3.googleusercontent.com/_iTIkwVoSUm0/TXdqlQb652I/AAAAAAAAAa0/_EWjjRa8x60/s720/blender%20hollow%20cube9.png]