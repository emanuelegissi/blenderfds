#summary Blender scenes to FDS cases

When exported, each Blender `scene` becomes an FDS case, that is an `.fds` text input file.

<wiki:toc max_depth="2" />

----

= Blender file contains several FDS cases =

In general, the user needs to simulate several scenarios with similar geometries and thermo-physical parameters. Only a small number of parameters are to be modified.
The user builds the geometry into a Blender `scene`. Then duplicates the `objects` in several new `scenes`:
 * the `objects` that do not change should be linked between the `scenes` to share exactly the same geometrical `mesh` and FDS parameters. If the user decides to modify the common geometry or the common thermo-physical parameters, all the linked `objects` from all `scenes` are modified accordingly.
 * depending on the scenarios, some `objects` from specific `scenes` must have their own geometry and thermo-physical parameters. The user unlinks them from the common properties and they become independent. Then the user can modify their parameters and geometry. 

Each `scene` requires the user to enter several parameters in its `scene panel`:

[http://lh3.ggpht.com/_iTIkwVoSUm0/S9XrlsYrUQI/AAAAAAAAARU/QPfwEsWw07E/scenepanel.png]

== `CHID` and `TITLE` parameters ==

The `CHID` value is used as the default file name for the exported FDS input file. The `CHID` and `TITLE` values are also used to insert an appropriate `HEAD` namelist group in that file. For example:

{{{
&HEAD CHID='test 1', TITLE='This is a test fire, case 1' /
}}}

== `Case Dir` ==

The `Case Dir` is the default directory where the single FDS input file is exported. Each `scene` can be exported into a different FDS input file in its particular directory. After the FDS simulation each case directory stores the results without mixing.
 
== `Header` and `Header File` ==

If `Auto Header` is chosen, a default header file is automatically included in the FDS input file. If `File` is chosen, BlenderFDS includes the specified `Header file` verbatim in the FDS input file. The header file is a text file used to specify the non-geometrical FDS namelist groups, commonly edited with the user-preferred text editor. Beware that BlenderFDS performs no check to the header file syntax.

A typical header file may contain the following parameters:

{{{
&TIME T_END=900.0 /

&REAC ID='polyurethane', SOOT_YIELD=0.1875, CO_YIELD=0.02775,
      C=1.0, H=1.75, O=0.25, N=0.065,
      HEAT_OF_COMBUSTION=25300., IDEAL=.TRUE. /
      Gas phase reaction: polyurethane flexible foam (means) from
      Tewarson SFPE Handbook 3rd ed,
      SFPE handbook table 3-4.14, p. 3-112.

&MATL ID='Gypsum plaster', CONDUCTIVITY=0.48,
      SPECIFIC_HEAT=0.84, DENSITY=1440. /
      Thermo-physical properties of gypsum plaster.

&PROP ID='acme smoke detector', QUANTITY='CHAMBER OBSCURATION',
      LENGTH=1.8, ACTIVATION_OBSCURATION=3.28 /
      
&ISOF QUANTITY='TEMPERATURE', VALUE(1)=60. /
&ISOF QUANTITY='VISIBILITY', VALUE(1)=10. /
&BNDF QUANTITY='ADIABATIC SURFACE TEMPERATURE' /
}}}

== `Voxel Size` ==

The `Voxel Size` represents the dimension of the voxel employed to transform some of the Blender `objects` geometries in FDS boxes. To obtain a reliable geometry description for the subsequent CFD simulation, the user should enter a `Voxel Size` that is at least _half_ of the smallest expected FDS mesh cell size.  

= Exporting current Blender `scene` to an FDS input file =

Eventually the Blender `scene` is ready, the building geometry is modeled, the boundary conditions are assigned, the header file is prepared.

The user selects the `File > Export > FDS Case (.fds)` menu and exports the current Blender `scene` to an FDS input file. The input file receives the default name entered in the `CHID` field of the `scene panel`, and is saved in the default `Case dir` directory.

[http://lh4.ggpht.com/_iTIkwVoSUm0/S9XoybN9T7I/AAAAAAAAAQ0/zdxvweS7V0E/s720/test_exportmenu_scenepanel.png]

To specify a different location to save the export file, click on the desired path in the file browser pane, then specify a file name.

In the file browser window, the user can also prefer to 'export visible objects' only. This can be useful while debugging the exported geometry in Smokeview.

When exporting large files, the Blender user interface could _freeze_ for several seconds while the process advances. This is an issue with current Blender versions that we hope to solve in the near future. Note: for a complex building, the export process may take up to 3 minutes.

[http://lh4.ggpht.com/_iTIkwVoSUm0/S9XoybN9T7I/AAAAAAAAAQ0/zdxvweS7V0E/s720/fds_case1.jpg]